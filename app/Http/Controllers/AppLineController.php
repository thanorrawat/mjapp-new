<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
define('LINE_API',"https://notify-api.line.me/api/notify");
class AppLineController extends Controller
{
    public function notify(Request $request)
    {

        $img = "data:image/png;base64,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";
        $img = str_replace('data:image/png;base64,', '', $img);
        $img = str_replace(' ', '+', $img);
        $fileData = base64_decode($img);
        //saving
        $fileName = 'photo.png';
        file_put_contents($fileName, $fileData);


ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);
date_default_timezone_set("Asia/Bangkok");

$sToken = "HFt3CMh1tmnQ4BKxXpmTXZMWaIJXUk0F6KXlzKyaI2C";
$sMessage = "77";
// $stickerPkg = 2; //stickerPackageId
// $stickerId = 34; //stickerId
$imageFile = url($fileName) ; //stickerId


$chOne = curl_init();
curl_setopt( $chOne, CURLOPT_URL, "https://notify-api.line.me/api/notify");
curl_setopt( $chOne, CURLOPT_SSL_VERIFYHOST, 0);
curl_setopt( $chOne, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt( $chOne, CURLOPT_POST, 1);
// curl_setopt( $chOne, CURLOPT_POSTFIELDS, "message=".$sMessage."&stickerPackageId=".$stickerPkg."&stickerId=".$stickerId."&imageThumbnail=".$imageFile."&imageFullsize=".$imageFile);
if(!empty($imageFile)){
    curl_setopt( $chOne, CURLOPT_POSTFIELDS, "message=".$sMessage."&imageThumbnail=".$imageFile."&imageFullsize=".$imageFile);
}else{
    curl_setopt( $chOne, CURLOPT_POSTFIELDS, "message=".$sMessage);
}


$headers = array( 'Content-type: application/x-www-form-urlencoded', 'Authorization: Bearer '.$sToken.'', );
curl_setopt($chOne, CURLOPT_HTTPHEADER, $headers);
curl_setopt( $chOne, CURLOPT_RETURNTRANSFER, 1);
$result = curl_exec( $chOne );

//Result error
if(curl_error($chOne))
{
    echo 'error:' . curl_error($chOne);
}
else {
    $result_ = json_decode($result, true);
  echo "status : ".$result_['status']; echo "message : ". $result_['message'];
}
curl_close( $chOne );


    }
}
